# Ansible Role: Varnish

[![Build Status](https://img.shields.io/travis/rwanyoike/ansible-role-varnish.svg)](https://travis-ci.org/rwanyoike/ansible-role-varnish) [![License](https://img.shields.io/badge/license-MIT-blue.svg)](https://raw.githubusercontent.com/rwanyoike/ansible-role-varnish/master/LICENSE)

Installs and configures Varnish on RHEL/CentOS ~~or Debian/Ubuntu~~.

## Requirements

- The EPEL repository on RHEL/CentOS.

## Role Variables

Available variables are listed below, along with default values (see `defaults/main.yml`):

```yaml
varnish_admin_listen_host: 127.0.0.1
varnish_admin_listen_port: 6082

varnish_listen_port: 80
varnish_secret: 14bac2e6-1e34-4770-8078-974373b76c90
varnish_storage: file,/var/lib/varnish/varnish_storage.bin,256M

varnish_vcl_use_template: true
varnish_vcl_backend_host: 127.0.0.1
varnish_vcl_backend_port: 8080
```

## Dependencies

None

## Example Playbook

```yaml
- hosts: servers

  vars_files:
    - vars/main.yml

  roles:
    - role: rwanyoike.varnish
```

Inside `vars/main.yml`:

```yaml
varnish_secret: "[secret generated by uuidgen]"
varnish_vcl_backend_port: 81

# ... etc ...
```

## License

MIT

## Author Information

- This role was created in 2014 by [Jeff Geerling](http://jeffgeerling.com/), author of [Ansible for DevOps](http://ansiblefordevops.com/).
- This role was forked in 2015 by [Raymond Wanyoike](https://github.com/rwanyoike).
